"use strict";(self.webpackChunkDashboard=self.webpackChunkDashboard||[]).push([[782],{4782:(Y,p,i)=>{i.r(p),i.d(p,{PersonsModule:()=>M});var m=i(6814),v=i(4104),c=i(617),r=i(7700),y=i(279),u=i(4190),e=i(5879),d=i(8406);let g=(()=>{class n{constructor(t,s,a){this.dialogRef=t,this.dialogData=s,this.dataService=a}ngOnInit(){this.title=this.dialogData.title,this.person=this.dialogData.person}updateHandler(t){t.id=this.person.id,this.dataService.update(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.so),e.Y36(r.WI),e.Y36(d.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-person-dialog"]],decls:1,vars:2,consts:[[3,"title","data","submitFormEvent"]],template:function(t,s){1&t&&(e.TgZ(0,"app-person-form",0),e.NdJ("submitFormEvent",function(l){return s.updateHandler(l)}),e.qZA()),2&t&&e.Q6J("title",s.title)("data",s.person)}}),n})();var h=i(7394),P=i(8209),D=i(6758),C=i(1424);let f=(()=>{class n{constructor(t,s){this.dialogRef=t,this.dataService=s,this.submitFormEvent=new e.vpe}ngOnInit(){this.formFields=this.dataService.getFormFields()}closeHandler(){this.dialogRef.close()}submitHandler(t){this.submitFormEvent.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.so),e.Y36(d.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-person-form"]],inputs:{data:"data",title:"title"},outputs:{submitFormEvent:"submitFormEvent"},decls:4,vars:3,consts:[["mat-dialog-title","",1,"title"],["mat-dialog-content",""],[3,"data","fields","submitEvent","closeEvent"]],template:function(t,s){1&t&&(e.TgZ(0,"p",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"app-create-form",2),e.NdJ("submitEvent",function(l){return s.submitHandler(l)})("closeEvent",function(){return s.closeHandler()}),e.qZA()()),2&t&&(e.xp6(1),e.Oqu(s.data?"Edit "+s.data.name+" "+s.data.surname:"Add new "+s.title.slice(0,-1)),e.xp6(2),e.Q6J("data",s.data)("fields",s.formFields))},dependencies:[C.I,r.uh,r.xY],styles:[".title[_ngcontent-%COMP%]{color:var(--color-text-light)}"]}),n})(),A=(()=>{class n{constructor(t,s,a){this.dialogRef=t,this.dialogData=s,this.dataService=a}ngOnInit(){this.title=this.dialogData.title}addHandler(t){const s=this.dataService.addUniqueId();t.id=s,this.newItem=t,this.dataService.add(this.newItem)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.so),e.Y36(r.WI),e.Y36(d.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-person-dialog"]],decls:1,vars:1,consts:[[3,"title","submitFormEvent"]],template:function(t,s){1&t&&(e.TgZ(0,"app-person-form",0),e.NdJ("submitFormEvent",function(l){return s.addHandler(l)}),e.qZA()),2&t&&e.Q6J("title",s.title)},dependencies:[f]}),n})();var Z=i(7706),_=i(9132),T=i(5819),S=i(5301);function E(n,o){if(1&n&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"Name Day"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(": ",t.details.nameDay,"")}}function F(n,o){if(1&n&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"PESEL"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(": ",t.details.socialSecurityNumber,"")}}function U(n,o){if(1&n&&e._UZ(0,"app-progress",6),2&n){const t=e.oxw();e.Q6J("days",t.nameDay)}}let b=(()=>{class n{constructor(t){this.timeAlertService=t,this.subscription=new h.w0}ngOnInit(){this.age=this.timeAlertService.getAge(this.details.dateOfBirth),this.birthdayDate=this.timeAlertService.getDaysToAnniversary(this.details.dateOfBirth),this.details.nameDay&&(this.nameDay=this.timeAlertService.getDaysToAnniversary(this.details.nameDay))}getIconAge(){return this.age<1?"child_friendly":this.age>=1&&this.age<18?"child_care":"person"}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-person-details"]],inputs:{details:"details",title:"title"},decls:35,vars:11,consts:[[1,"details"],[4,"ngIf"],[1,"person"],[1,"progress-container"],["title","Birthday",3,"days"],["title","Name day",3,"days",4,"ngIf"],["title","Name day",3,"days"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"p")(3,"span"),e._uU(4,"Name"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"p")(7,"span"),e._uU(8,"Surname"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"p")(11,"span"),e._uU(12,"Sex"),e.qZA(),e._uU(13),e.qZA()(),e.TgZ(14,"div")(15,"p")(16,"span"),e._uU(17,"Birthday"),e.qZA(),e._uU(18),e.qZA(),e.YNc(19,E,4,1,"p",1),e.YNc(20,F,4,1,"p",1),e.TgZ(21,"p")(22,"span"),e._uU(23,"ID card"),e.qZA(),e._uU(24),e.qZA()(),e.TgZ(25,"div",2)(26,"mat-icon"),e._uU(27),e.qZA(),e.TgZ(28,"p")(29,"span"),e._uU(30,"Age"),e.qZA(),e._uU(31),e.qZA()(),e.TgZ(32,"div",3),e._UZ(33,"app-progress",4),e.YNc(34,U,1,1,"app-progress",5),e.qZA()()),2&t&&(e.xp6(5),e.hij(": ",s.details.name,""),e.xp6(4),e.hij(": ",s.details.surname,""),e.xp6(4),e.hij(": ",s.details.sex,""),e.xp6(5),e.hij(": ",s.details.dateOfBirth,""),e.xp6(1),e.Q6J("ngIf",s.details.nameDay),e.xp6(1),e.Q6J("ngIf",s.details.socialSecurityNumber),e.xp6(4),e.hij(": ",s.details.IDcard,""),e.xp6(3),e.Oqu(s.getIconAge()),e.xp6(4),e.hij(": ",s.age,""),e.xp6(2),e.Q6J("days",s.birthdayDate),e.xp6(1),e.Q6J("ngIf",s.details.nameDay))},dependencies:[m.O5,S.t,c.Hw],styles:["[_nghost-%COMP%]{width:100%;margin-top:20px}.details[_ngcontent-%COMP%]{display:flex;color:var(--color-text);min-height:100px}.details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){margin-left:40px}.person[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:200px;height:110px;margin-left:40px}.person[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:80px;height:80px;font-size:80px;color:var(--color-2)}"]}),n})();function O(n,o){if(1&n&&e._UZ(0,"app-person-details",2),2&n){const t=o.element,s=e.oxw();e.Q6J("title",s.title)("details",t)}}const I=[{path:"",component:(()=>{class n{constructor(t,s,a){this.dialog=t,this.menuService=s,this.dataService=a,this.headers=["name","surname"],this.subscription=new h.w0}ngOnInit(){this.getSectionInfo(D.Q.Persons),this.dataService.getList(),this.data$=this.dataService.data$}getSectionInfo(t){this.menuService.getSections(),this.sections=this.menuService.takeSections(),this.title=this.sections[t].title;const s=this.sections.find(a=>a.title===this.title);s&&(this.icon=s.icon)}addDialog(){this.dialog.open(A,{width:"500px",data:{title:this.title}})}editDialog(t){this.dialog.open(g,{width:"500px",data:{title:this.title,person:t}})}deleteDialog(t){const s=this.dialog.open(P.W,{data:{title:`Delete ${t.name}`,description:`Are you sure you want to delete ${t.name} ${t.surname}`,type:"submit"}});this.subscription.add(s.afterClosed().subscribe(a=>{"submit"===a&&this.dataService.delete(t)}))}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.uw),e.Y36(Z.h),e.Y36(d.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-persons"]],decls:3,vars:4,consts:[[3,"title","icon","data$","columnsToDisplay","addEvent","editEvent","deleteEvent"],["detailsTemplate",""],[3,"title","details"]],template:function(t,s){1&t&&(e.TgZ(0,"app-table",0),e.NdJ("addEvent",function(){return s.addDialog()})("editEvent",function(l){return s.editDialog(l)})("deleteEvent",function(l){return s.deleteDialog(l)}),e.YNc(1,O,1,2,"ng-template",null,1,e.W1O),e.qZA()),2&t&&e.Q6J("title",s.title)("icon",s.icon)("data$",s.data$)("columnsToDisplay",s.headers)},dependencies:[_.a,b]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(I),u.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[x,m.ez,y.m,v.Nh,c.Ps,r.Is]}),n})();e.B6R(g,[f],[])}}]);