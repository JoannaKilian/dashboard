"use strict";(self.webpackChunkDashboard=self.webpackChunkDashboard||[]).push([[438],{2438:(Y,c,a)=>{a.r(c),a.d(c,{EventsModule:()=>I});var p=a(6814),h=a(4104),f=a(617),l=a(7700),E=a(279),m=a(4190),v=a(7394),C=a(8209),D=a(6758),t=a(5879),r=a(603),y=a(1424);let u=(()=>{class n{constructor(e,i){this.dialogRef=e,this.dataService=i,this.submitFormEvent=new t.vpe}ngOnInit(){this.formFields=this.dataService.getFormFields()}closeHandler(){this.dialogRef.close()}submitHandler(e){this.submitFormEvent.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.so),t.Y36(r.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-form"]],inputs:{data:"data",title:"title"},outputs:{submitFormEvent:"submitFormEvent"},decls:4,vars:3,consts:[["mat-dialog-title","",1,"title"],["mat-dialog-content",""],[3,"data","fields","submitEvent","closeEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"p",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"app-create-form",2),t.NdJ("submitEvent",function(d){return i.submitHandler(d)})("closeEvent",function(){return i.closeHandler()}),t.qZA()()),2&e&&(t.xp6(1),t.Oqu(i.data?"Edit "+i.data.name:"Add new "+i.title.slice(0,-1)),t.xp6(2),t.Q6J("data",i.data)("fields",i.formFields))},dependencies:[y.I,l.uh,l.xY],styles:[".title[_ngcontent-%COMP%]{color:var(--color-text-light)}"]}),n})(),T=(()=>{class n{constructor(e,i,s){this.dialogRef=e,this.dialogData=i,this.dataService=s}ngOnInit(){this.title=this.dialogData.title}addHandler(e){const i=this.dataService.addUniqueId();e.id=i,this.newItem=e,this.dataService.add(this.newItem)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.so),t.Y36(l.WI),t.Y36(r.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-event-dialog"]],decls:1,vars:1,consts:[[3,"title","submitFormEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"app-event-form",0),t.NdJ("submitFormEvent",function(d){return i.addHandler(d)}),t.qZA()),2&e&&t.Q6J("title",i.title)},dependencies:[u]}),n})(),g=(()=>{class n{constructor(e,i,s){this.dialogRef=e,this.dialogData=i,this.dataService=s}ngOnInit(){this.title=this.dialogData.title,this.event=this.dialogData.event}updateHandler(e){e.id=this.event.id,this.dataService.update(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.so),t.Y36(l.WI),t.Y36(r.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-event-dialog"]],decls:1,vars:2,consts:[[3,"title","data","submitFormEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"app-event-form",0),t.NdJ("submitFormEvent",function(d){return i.updateHandler(d)}),t.qZA()),2&e&&t.Q6J("title",i.title)("data",i.event)}}),n})();var b=a(7706),Z=a(9132),_=a(5819),A=a(5301);function F(n,o){if(1&n&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Time"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(": ",e.details.time,"")}}function S(n,o){if(1&n&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Description"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(": ",e.details.description,"")}}let M=(()=>{class n{constructor(e){this.timeAlertService=e,this.importanceLevels=["Low","Medium","High"],this.subscription=new v.w0}ngOnInit(){this.date=this.timeAlertService.getCountEndTime(this.details.date)}getImportanceIcon(e){switch(e){case"Low":return"slow_motion_video low_priority";case"Medium":default:return"child_friendly";case"High":return"priority_high"}}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-details"]],inputs:{details:"details",title:"title"},decls:18,vars:7,consts:[[1,"details",3,"ngClass"],[4,"ngIf"],[1,"progress-container"],["title","Deadline",3,"days"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"p")(3,"span"),t._uU(4,"Title"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p")(7,"span"),t._uU(8,"Category"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p")(11,"span"),t._uU(12,"Date"),t.qZA(),t._uU(13),t.qZA(),t.YNc(14,F,4,1,"p",1),t.YNc(15,S,4,1,"p",1),t.qZA(),t.TgZ(16,"div",2),t._UZ(17,"app-progress",3),t.qZA()()),2&e&&(t.Q6J("ngClass","High"===i.details.importance?"details--high":"Medium"===i.details.importance?"details--medium":"details--low"),t.xp6(5),t.hij(": ",i.details.name,""),t.xp6(4),t.hij(": ",i.details.category,""),t.xp6(4),t.hij(": ",i.details.date,""),t.xp6(1),t.Q6J("ngIf",i.details.time),t.xp6(1),t.Q6J("ngIf",i.details.description),t.xp6(2),t.Q6J("days",i.date))},dependencies:[p.mk,p.O5,A.t],styles:["[_nghost-%COMP%]{width:100%}.details[_ngcontent-%COMP%]{display:flex;color:var(--color-text);min-height:100px;padding:20px}.details--high[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(255,0,0,0),rgba(248,56,56,.622))}.details--medium[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(255,0,0,0),rgba(245,149,94,.519))}.details--low[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(255,0,0,0),rgba(181,209,82,.423))}.details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.event[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:200px;height:110px;margin-left:40px}.event[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:80px;height:80px;font-size:80px;color:var(--color-2)}"]}),n})();function O(n,o){if(1&n&&t._UZ(0,"app-event-details",2),2&n){const e=o.element,i=t.oxw();t.Q6J("title",i.title)("details",e)}}const U=[{path:"",component:(()=>{class n{constructor(e,i,s){this.dialog=e,this.menuService=i,this.dataService=s,this.headers=["name","category"],this.subscription=new v.w0}ngOnInit(){this.getSectionInfo(D.Q.Events),this.dataService.getList(),this.data$=this.dataService.data$}getSectionInfo(e){this.menuService.getSections(),this.sections=this.menuService.takeSections(),this.title=this.sections[e].title;const i=this.sections.find(s=>s.title===this.title);i&&(this.icon=i.icon)}addDialog(){this.dialog.open(T,{width:"500px",data:{title:this.title}})}editDialog(e){this.dialog.open(g,{width:"500px",data:{title:this.title,event:e}})}deleteDialog(e){const i=this.dialog.open(C.W,{data:{title:`Delete ${e.name}`,description:`Are you sure you want to delete ${e.category} - ${e.name}`,type:"submit"}});this.subscription.add(i.afterClosed().subscribe(s=>{"submit"===s&&this.dataService.delete(e)}))}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.uw),t.Y36(b.h),t.Y36(r.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-events"]],decls:3,vars:4,consts:[[3,"title","icon","data$","columnsToDisplay","addEvent","editEvent","deleteEvent"],["detailsTemplate",""],[3,"title","details"]],template:function(e,i){1&e&&(t.TgZ(0,"app-table",0),t.NdJ("addEvent",function(){return i.addDialog()})("editEvent",function(d){return i.editDialog(d)})("deleteEvent",function(d){return i.deleteDialog(d)}),t.YNc(1,O,1,2,"ng-template",null,1,t.W1O),t.qZA()),2&e&&t.Q6J("title",i.title)("icon",i.icon)("data$",i.data$)("columnsToDisplay",i.headers)},dependencies:[Z.a,M]}),n})()}];let w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(U),m.Bz]}),n})(),I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[w,p.ez,E.m,h.Nh,f.Ps,l.Is]}),n})();t.B6R(g,[u],[])}}]);