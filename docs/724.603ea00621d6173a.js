"use strict";(self.webpackChunkDashboard=self.webpackChunkDashboard||[]).push([[724],{1724:(w,c,o)=>{o.r(c),o.d(c,{CarsModule:()=>J});var p=o(6814),f=o(4104),m=o(617),r=o(7700),t=o(5879),d=o(4444),v=o(1424);let u=(()=>{class n{constructor(e,a){this.dialogRef=e,this.dataService=a,this.submitFormEvent=new t.vpe}ngOnInit(){this.formFields=this.dataService.getFormFields()}closeHandler(){this.dialogRef.close()}submitHandler(e){this.submitFormEvent.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.so),t.Y36(d.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-form"]],inputs:{data:"data"},outputs:{submitFormEvent:"submitFormEvent"},decls:4,vars:3,consts:[["mat-dialog-title","",1,"title"],["mat-dialog-content",""],[3,"data","fields","submitEvent","closeEvent"]],template:function(e,a){1&e&&(t.TgZ(0,"p",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"app-create-form",2),t.NdJ("submitEvent",function(l){return a.submitHandler(l)})("closeEvent",function(){return a.closeHandler()}),t.qZA()()),2&e&&(t.xp6(1),t.Oqu(a.data?"Edit "+a.data.brand+" "+a.data.model:"Add new car"),t.xp6(2),t.Q6J("data",a.data)("fields",a.formFields))},dependencies:[v.I,r.uh,r.xY],styles:[".title[_ngcontent-%COMP%]{color:var(--color-text-light)}"]}),n})(),g=(()=>{class n{constructor(e,a,s){this.dialogRef=e,this.dialogData=a,this.dataService=s}ngOnInit(){this.title=this.dialogData.title,this.car=this.dialogData.car}updateHandler(e){e.id=this.car.id,this.dataService.update(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.so),t.Y36(r.WI),t.Y36(d.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-car-dialog"]],decls:1,vars:1,consts:[[3,"data","submitFormEvent"]],template:function(e,a){1&e&&(t.TgZ(0,"app-car-form",0),t.NdJ("submitFormEvent",function(l){return a.updateHandler(l)}),t.qZA()),2&e&&t.Q6J("data",a.car)}}),n})();var Z=o(279),C=o(4190);let D=(()=>{class n{constructor(e,a,s){this.dialogRef=e,this.dialogData=a,this.dataService=s}ngOnInit(){this.title=this.dialogData.title}addHandler(e){const a=this.dataService.addUniqueId();e.id=a,this.newItem=e,this.dataService.add(this.newItem)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.so),t.Y36(r.WI),t.Y36(d.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-car-dialog"]],decls:1,vars:1,consts:[[3,"title","submitFormEvent"]],template:function(e,a){1&e&&(t.TgZ(0,"app-car-form",0),t.NdJ("submitFormEvent",function(l){return a.addHandler(l)}),t.qZA()),2&e&&t.Q6J("title",a.title)},dependencies:[u]}),n})();var h=o(7394),A=o(8209),T=o(6758),y=o(7706),_=o(9132),E=o(5819),b=o(5301);function F(n,i){if(1&n&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Engine Power"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(": ",e.details.registrationNumber,"")}}function S(n,i){if(1&n&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Engine Capacity"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(": ",e.details.engineCapacity,"")}}function U(n,i){if(1&n&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Color"),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(": ",e.details.color,"")}}const I=function(n){return{color:n}};let O=(()=>{class n{constructor(e){this.timeAlertService=e,this.subscription=new h.w0}ngOnInit(){this.insuranceDate=this.timeAlertService.getCountEndTime(this.details.insuranceDate),this.inspectionDate=this.timeAlertService.getCountEndTime(this.details.carInspection)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-details"]],inputs:{details:"details",title:"title"},decls:32,vars:13,consts:[[1,"details"],[4,"ngIf"],[1,"car"],[3,"ngStyle"],[1,"progress-container"],["title","Insurance",3,"days"],["title","Car Inspection",3,"days"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"p")(3,"span"),t._uU(4,"Brand"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p")(7,"span"),t._uU(8,"Model"),t.qZA(),t._uU(9),t.qZA(),t.YNc(10,F,4,1,"p",1),t.TgZ(11,"p")(12,"span"),t._uU(13,"Production Year"),t.qZA(),t._uU(14),t.qZA()(),t.TgZ(15,"div")(16,"p")(17,"span"),t._uU(18,"Insurance Date"),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"p")(21,"span"),t._uU(22,"Car Inspection"),t.qZA(),t._uU(23),t.qZA(),t.YNc(24,S,4,1,"p",1),t.qZA(),t.TgZ(25,"div",2)(26,"mat-icon",3),t._uU(27,"directions_car"),t.qZA(),t.YNc(28,U,4,1,"p",1),t.qZA(),t.TgZ(29,"div",4),t._UZ(30,"app-progress",5)(31,"app-progress",6),t.qZA()()),2&e&&(t.xp6(5),t.hij(": ",a.details.brand,""),t.xp6(4),t.hij(": ",a.details.model,""),t.xp6(1),t.Q6J("ngIf",a.details.registrationNumber),t.xp6(4),t.hij(": ",a.details.productionYear,""),t.xp6(5),t.hij(": ",a.details.insuranceDate,""),t.xp6(4),t.hij(": ",a.details.carInspection,""),t.xp6(1),t.Q6J("ngIf",a.details.engineCapacity),t.xp6(2),t.Q6J("ngStyle",t.VKq(11,I,a.details.color)),t.xp6(2),t.Q6J("ngIf",a.details.color),t.xp6(2),t.Q6J("days",a.insuranceDate),t.xp6(1),t.Q6J("days",a.inspectionDate))},dependencies:[p.O5,p.PC,b.t,m.Hw],styles:["[_nghost-%COMP%]{width:100%;margin-top:20px}.details[_ngcontent-%COMP%]{display:flex;color:var(--color-text);min-height:100px}.details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){margin-left:40px}.car[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:200px}.car[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:80px;height:80px;font-size:80px;color:var(--color-2)}"]}),n})();function Y(n,i){if(1&n&&t._UZ(0,"app-car-details",2),2&n){const e=i.element,a=t.oxw();t.Q6J("title",a.title)("details",e)}}const M=[{path:"",component:(()=>{class n{constructor(e,a,s){this.dialog=e,this.menuService=a,this.dataService=s,this.headers=["brand","model"],this.subscription=new h.w0}ngOnInit(){this.getSectionInfo(T.Q.Cars),this.dataService.getList(),this.data$=this.dataService.data$}getSectionInfo(e){this.menuService.getSections(),this.sections=this.menuService.takeSections(),this.title=this.sections[e].title;const a=this.sections.find(s=>s.title===this.title);a&&(this.icon=a.icon)}addDialog(){this.dialog.open(D,{width:"500px",data:{title:this.title}})}editDialog(e){this.dialog.open(g,{width:"500px",data:{title:this.title,car:e}})}deleteDialog(e){const a=this.dialog.open(A.W,{data:{title:`Delete ${e.brand}`,description:`Are you sure you want to delete ${e.brand} ${e.model}`,type:"submit"}});this.subscription.add(a.afterClosed().subscribe(s=>{"submit"===s&&this.dataService.delete(e)}))}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.uw),t.Y36(y.h),t.Y36(d.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cars"]],decls:3,vars:4,consts:[[3,"title","icon","data$","columnsToDisplay","addEvent","editEvent","deleteEvent"],["detailsTemplate",""],[3,"title","details"]],template:function(e,a){1&e&&(t.TgZ(0,"app-table",0),t.NdJ("addEvent",function(){return a.addDialog()})("editEvent",function(l){return a.editDialog(l)})("deleteEvent",function(l){return a.deleteDialog(l)}),t.YNc(1,Y,1,2,"ng-template",null,1,t.W1O),t.qZA()),2&e&&t.Q6J("title",a.title)("icon",a.icon)("data$",a.data$)("columnsToDisplay",a.headers)},dependencies:[_.a,O]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(M),C.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x,p.ez,Z.m,f.Nh,m.Ps,r.Is]}),n})();t.B6R(g,[u],[])}}]);