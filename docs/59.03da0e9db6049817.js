"use strict";(self.webpackChunkDashboard=self.webpackChunkDashboard||[]).push([[59],{5059:(j,c,o)=>{o.r(c),o.d(c,{PetsModule:()=>R});var d=o(6814),v=o(4104),m=o(617),l=o(7700),_=o(279),t=o(5879),p=o(1683),A=o(1424);let g=(()=>{class e{constructor(n,i){this.dialogRef=n,this.dataService=i,this.submitFormEvent=new t.vpe}ngOnInit(){this.formFields=this.dataService.getFormFields()}closeHandler(){this.dialogRef.close()}submitHandler(n){this.submitFormEvent.emit(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.so),t.Y36(p.O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pet-form"]],inputs:{data:"data",title:"title"},outputs:{submitFormEvent:"submitFormEvent"},decls:4,vars:3,consts:[["mat-dialog-title","",1,"title"],["mat-dialog-content",""],[3,"data","fields","submitEvent","closeEvent"]],template:function(n,i){1&n&&(t.TgZ(0,"p",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"app-create-form",2),t.NdJ("submitEvent",function(r){return i.submitHandler(r)})("closeEvent",function(){return i.closeHandler()}),t.qZA()()),2&n&&(t.xp6(1),t.Oqu(i.data?"Edit "+i.data.name+" "+i.data.species:"Add new "+i.title.slice(0,-1)),t.xp6(2),t.Q6J("data",i.data)("fields",i.formFields))},dependencies:[A.I,l.uh,l.xY],styles:[".title[_ngcontent-%COMP%]{color:var(--color-text-light)}"]}),e})();var u=o(4190),f=o(7394),P=o(8209),C=o(6758);let y=(()=>{class e{constructor(n,i,s){this.dialogRef=n,this.dialogData=i,this.dataService=s}ngOnInit(){this.title=this.dialogData.title}addHandler(n){const i=this.dataService.addUniqueId();n.id=i,this.newItem=n,this.dataService.add(this.newItem)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.so),t.Y36(l.WI),t.Y36(p.O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-pet-dialog"]],decls:1,vars:1,consts:[[3,"title","submitFormEvent"]],template:function(n,i){1&n&&(t.TgZ(0,"app-pet-form",0),t.NdJ("submitFormEvent",function(r){return i.addHandler(r)}),t.qZA()),2&n&&t.Q6J("title",i.title)},dependencies:[g]}),e})(),h=(()=>{class e{constructor(n,i,s){this.dialogRef=n,this.dialogData=i,this.dataService=s}ngOnInit(){this.title=this.dialogData.title,this.pet=this.dialogData.pet}updateHandler(n){n.id=this.pet.id,this.dataService.update(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.so),t.Y36(l.WI),t.Y36(p.O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-update-pet-dialog"]],decls:1,vars:2,consts:[[3,"title","data","submitFormEvent"]],template:function(n,i){1&n&&(t.TgZ(0,"app-pet-form",0),t.NdJ("submitFormEvent",function(r){return i.updateHandler(r)}),t.qZA()),2&n&&t.Q6J("title",i.title)("data",i.pet)}}),e})();var Z=o(7706),D=o(9132),T=o(5819);function b(e,a){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"favorite"),t.qZA())}function O(e,a){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"favorite_border"),t.qZA())}function S(e,a){if(1&e&&(t.TgZ(0,"div",1),t.YNc(1,b,2,0,"mat-icon",2),t.YNc(2,O,2,0,"mat-icon",2),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.numberRangeArray),t.xp6(1),t.Q6J("ngForOf",n.numberEmptyArray)}}let x=(()=>{class e{constructor(){this.numberEmptyArray=[],this.numberRangeArray=[]}ngOnInit(){this.numberRangeArray=new Array(this.range),this.numberEmptyArray=new Array(this.numberAll-this.range)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stars"]],inputs:{numberAll:"numberAll",range:"range"},decls:1,vars:1,consts:[["class","favorite-wrap",4,"ngIf"],[1,"favorite-wrap"],[4,"ngFor","ngForOf"]],template:function(n,i){1&n&&t.YNc(0,S,3,2,"div",0),2&n&&t.Q6J("ngIf",i.range)},dependencies:[m.Hw,d.sg,d.O5],styles:[".favorite-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;background-color:var(--color-4);margin-bottom:16px;border-radius:8px;color:var(--color-3);font-size:var(--font-subtitle)}.favorite-wrap[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-3)}"]}),e})();var E=o(5301);function F(e,a){if(1&e&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Breed"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.hij(": ",n.details.breed,"")}}function U(e,a){if(1&e&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Vaccination Date"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.hij(": ",n.details.vaccinationDate,"")}}function I(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"p")(2,"span"),t._uU(3,"Age: "),t.qZA(),t._uU(4),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(4),t.hij("",n.age," years")}}function w(e,a){1&e&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Age: "),t.qZA(),t._uU(3,"Bellow year"),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"p")(1,"span"),t._uU(2,"Average Lifespan"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.hij(": ",n.averageLifespan,"")}}function J(e,a){if(1&e&&t._UZ(0,"app-stars",9),2&e){const n=t.oxw();t.Q6J("numberAll",n.averageLifespan)("range",n.age)}}function M(e,a){if(1&e&&t._UZ(0,"app-progress",10),2&e){const n=t.oxw();t.Q6J("days",n.vaccinationDate)}}let Q=(()=>{class e{constructor(n,i){this.timeAlertService=n,this.petsService=i,this.subscription=new f.w0}ngOnInit(){this.age=this.timeAlertService.getAge(this.details.dateOfBirth),this.averageLifespan=this.petsService.getAverageLifespan(this.details),this.birthdayDate=this.timeAlertService.getDaysToAnniversary(this.details.dateOfBirth),this.details.vaccinationDate&&(this.vaccinationDate=this.timeAlertService.getCountEndTime(this.details.vaccinationDate))}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(T.X),t.Y36(p.O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pet-details"]],inputs:{details:"details",title:"title"},decls:33,vars:12,consts:[[1,"details"],[4,"ngIf"],[1,"details_life"],[4,"ngIf","ngIfElse"],["bellowYear",""],[3,"numberAll","range",4,"ngIf"],[1,"progress-container"],["title","Birthday",3,"days"],["title","Vaccination Date",3,"days",4,"ngIf"],[3,"numberAll","range"],["title","Vaccination Date",3,"days"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"p")(3,"span"),t._uU(4,"Name"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p")(7,"span"),t._uU(8,"Species"),t.qZA(),t._uU(9),t.qZA(),t.YNc(10,F,4,1,"p",1),t.TgZ(11,"p")(12,"span"),t._uU(13,"Sex"),t.qZA(),t._uU(14),t.qZA()(),t.TgZ(15,"div")(16,"p")(17,"span"),t._uU(18,"Birthday"),t.qZA(),t._uU(19),t.qZA(),t.YNc(20,U,4,1,"p",1),t.qZA(),t.TgZ(21,"div",2)(22,"p")(23,"span"),t._uU(24,"Length of life: "),t.qZA()(),t.YNc(25,I,5,1,"ng-container",3),t.YNc(26,w,4,0,"ng-template",null,4,t.W1O),t.YNc(28,Y,4,1,"p",1),t.qZA(),t.YNc(29,J,1,2,"app-stars",5),t.TgZ(30,"div",6),t._UZ(31,"app-progress",7),t.YNc(32,M,1,1,"app-progress",8),t.qZA()()),2&n){const s=t.MAs(27);t.xp6(5),t.hij(": ",i.details.name,""),t.xp6(4),t.hij(": ",i.details.species,""),t.xp6(1),t.Q6J("ngIf",i.details.breed),t.xp6(4),t.hij(": ",i.details.sex,""),t.xp6(5),t.hij(": ",i.details.dateOfBirth,""),t.xp6(1),t.Q6J("ngIf",i.details.vaccinationDate),t.xp6(5),t.Q6J("ngIf",i.age>0)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",i.averageLifespan),t.xp6(1),t.Q6J("ngIf",i.age<=i.averageLifespan),t.xp6(2),t.Q6J("days",i.birthdayDate),t.xp6(1),t.Q6J("ngIf",i.details.vaccinationDate)}},dependencies:[d.O5,x,E.t],styles:["[_nghost-%COMP%]{width:100%;margin-top:20px}.details[_ngcontent-%COMP%]{display:flex;color:var(--color-text);min-height:100px}.details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2), .details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){margin-left:40px}.details_life[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:30px}"]}),e})();function N(e,a){if(1&e&&t._UZ(0,"app-pet-details",2),2&e){const n=a.element,i=t.oxw();t.Q6J("title",i.title)("details",n)}}const q=[{path:"",component:(()=>{class e{constructor(n,i,s){this.dialog=n,this.menuService=i,this.dataService=s,this.headers=["species","name"],this.subscription=new f.w0}ngOnInit(){this.getSectionInfo(C.Q.Pets),this.dataService.getList(),this.data$=this.dataService.data$}getSectionInfo(n){this.menuService.getSections(),this.sections=this.menuService.takeSections(),this.title=this.sections[n].title;const i=this.sections.find(s=>s.title===this.title);i&&(this.icon=i.icon)}addDialog(){this.dialog.open(y,{width:"500px",data:{title:this.title}})}editDialog(n){this.dialog.open(h,{width:"500px",data:{title:this.title,pet:n}})}deleteDialog(n){const i=this.dialog.open(P.W,{data:{title:`Delete ${n.name}`,description:`Are you sure you want to delete ${n.name} ${n.species}`,type:"submit"}});this.subscription.add(i.afterClosed().subscribe(s=>{"submit"===s&&this.dataService.delete(n)}))}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.uw),t.Y36(Z.h),t.Y36(p.O))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pets"]],decls:3,vars:4,consts:[[3,"title","icon","data$","columnsToDisplay","addEvent","editEvent","deleteEvent"],["detailsTemplate",""],[3,"title","details"]],template:function(n,i){1&n&&(t.TgZ(0,"app-table",0),t.NdJ("addEvent",function(){return i.addDialog()})("editEvent",function(r){return i.editDialog(r)})("deleteEvent",function(r){return i.deleteDialog(r)}),t.YNc(1,N,1,2,"ng-template",null,1,t.W1O),t.qZA()),2&n&&t.Q6J("title",i.title)("icon",i.icon)("data$",i.data$)("columnsToDisplay",i.headers)},dependencies:[D.a,Q]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(q),u.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[B,d.ez,_.m,v.Nh,m.Ps,l.Is]}),e})();t.B6R(h,[g],[])}}]);