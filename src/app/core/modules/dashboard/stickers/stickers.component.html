<div class="wrap">
  <div class="wrap_add" (click)="onAddNote()">
    <mat-icon>add_circle</mat-icon>
  </div>
  <ng-container *ngFor="let note of notes; let i = index">
    <div class="box" cdkDragBoundary=".wrap" cdkDrag>
      <div class="box_actions">
        <mat-icon *ngIf="!notes[i].edit" (click)="notes[i].edit = !notes[i].edit">edit</mat-icon>
        <ng-container *ngIf="notes[i].edit">
          <mat-icon (click)="notes[i].edit = !notes[i].edit">close</mat-icon>
          <mat-icon (click)="notes[i].edit = !notes[i].edit">check_circle</mat-icon>
        </ng-container>
        <mat-icon (click)="onDeleteNote(i)">delete_outline</mat-icon>
      </div>
      <textarea [(ngModel)]="notes[i].content"></textarea>
    </div>
  </ng-container>
</div>